<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue 面试题 1 | Ailjc notes</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel=" " href=" ">
    <meta name="description" content=" ">
    
    <link rel="preload" href="/assets/css/0.styles.e687256a.css" as="style"><link rel="preload" href="/assets/js/app.1dfe0d81.js" as="script"><link rel="preload" href="/assets/js/2.3e9bbb58.js" as="script"><link rel="preload" href="/assets/js/3.b0e1b0e0.js" as="script"><link rel="preload" href="/assets/js/161.543eb114.js" as="script"><link rel="prefetch" href="/assets/js/10.df215ea6.js"><link rel="prefetch" href="/assets/js/100.5c214236.js"><link rel="prefetch" href="/assets/js/101.7ff9529e.js"><link rel="prefetch" href="/assets/js/102.40d9ce3b.js"><link rel="prefetch" href="/assets/js/103.ff5fb4e5.js"><link rel="prefetch" href="/assets/js/104.ec8bb964.js"><link rel="prefetch" href="/assets/js/105.b272bbae.js"><link rel="prefetch" href="/assets/js/106.4360f4e8.js"><link rel="prefetch" href="/assets/js/107.f8589e53.js"><link rel="prefetch" href="/assets/js/108.84b58c39.js"><link rel="prefetch" href="/assets/js/109.9074e65b.js"><link rel="prefetch" href="/assets/js/11.2338a54e.js"><link rel="prefetch" href="/assets/js/110.207b02c3.js"><link rel="prefetch" href="/assets/js/111.553b1d22.js"><link rel="prefetch" href="/assets/js/112.8def0be8.js"><link rel="prefetch" href="/assets/js/113.faa16734.js"><link rel="prefetch" href="/assets/js/114.f4fb3d0b.js"><link rel="prefetch" href="/assets/js/115.507b0407.js"><link rel="prefetch" href="/assets/js/116.1eaf80db.js"><link rel="prefetch" href="/assets/js/117.c87d23ad.js"><link rel="prefetch" href="/assets/js/118.c629b409.js"><link rel="prefetch" href="/assets/js/119.052bd511.js"><link rel="prefetch" href="/assets/js/12.25197d8e.js"><link rel="prefetch" href="/assets/js/120.f133f9ee.js"><link rel="prefetch" href="/assets/js/121.fea1198d.js"><link rel="prefetch" href="/assets/js/122.81c81a64.js"><link rel="prefetch" href="/assets/js/123.04306ddb.js"><link rel="prefetch" href="/assets/js/124.d00980e9.js"><link rel="prefetch" href="/assets/js/125.a5bd3f5b.js"><link rel="prefetch" href="/assets/js/126.ac394c42.js"><link rel="prefetch" href="/assets/js/127.ea850940.js"><link rel="prefetch" href="/assets/js/128.b7085e94.js"><link rel="prefetch" href="/assets/js/129.d785f875.js"><link rel="prefetch" href="/assets/js/13.9144b6ee.js"><link rel="prefetch" href="/assets/js/130.810dde22.js"><link rel="prefetch" href="/assets/js/131.d438c6f3.js"><link rel="prefetch" href="/assets/js/132.5f2ec613.js"><link rel="prefetch" href="/assets/js/133.98895ea8.js"><link rel="prefetch" href="/assets/js/134.2b2e051e.js"><link rel="prefetch" href="/assets/js/135.2c5e6e25.js"><link rel="prefetch" href="/assets/js/136.dabf7279.js"><link rel="prefetch" href="/assets/js/137.95525e87.js"><link rel="prefetch" href="/assets/js/138.46513284.js"><link rel="prefetch" href="/assets/js/139.710c4c66.js"><link rel="prefetch" href="/assets/js/14.a38f6bb1.js"><link rel="prefetch" href="/assets/js/140.bfd703db.js"><link rel="prefetch" href="/assets/js/141.bc85fc73.js"><link rel="prefetch" href="/assets/js/142.64944e33.js"><link rel="prefetch" href="/assets/js/143.e7d126d5.js"><link rel="prefetch" href="/assets/js/144.72bea264.js"><link rel="prefetch" href="/assets/js/145.897bcd76.js"><link rel="prefetch" href="/assets/js/146.fb27d735.js"><link rel="prefetch" href="/assets/js/147.5782f871.js"><link rel="prefetch" href="/assets/js/148.133abca6.js"><link rel="prefetch" href="/assets/js/149.03698dc7.js"><link rel="prefetch" href="/assets/js/15.16a2cdd2.js"><link rel="prefetch" href="/assets/js/150.d51e0d51.js"><link rel="prefetch" href="/assets/js/151.8e2bee0c.js"><link rel="prefetch" href="/assets/js/152.a6e3641f.js"><link rel="prefetch" href="/assets/js/153.320d3c77.js"><link rel="prefetch" href="/assets/js/154.3316e57b.js"><link rel="prefetch" href="/assets/js/155.6dfc3b3b.js"><link rel="prefetch" href="/assets/js/156.bfba6ae9.js"><link rel="prefetch" href="/assets/js/157.c41e3e8d.js"><link rel="prefetch" href="/assets/js/158.faf61169.js"><link rel="prefetch" href="/assets/js/159.c7025a04.js"><link rel="prefetch" href="/assets/js/16.13b468fc.js"><link rel="prefetch" href="/assets/js/160.82c067b9.js"><link rel="prefetch" href="/assets/js/162.aad9e166.js"><link rel="prefetch" href="/assets/js/163.051d4b32.js"><link rel="prefetch" href="/assets/js/164.c2f19eae.js"><link rel="prefetch" href="/assets/js/165.1f19e2cf.js"><link rel="prefetch" href="/assets/js/166.a16c061a.js"><link rel="prefetch" href="/assets/js/167.9e887de6.js"><link rel="prefetch" href="/assets/js/168.8f0efe26.js"><link rel="prefetch" href="/assets/js/169.6d87ada7.js"><link rel="prefetch" href="/assets/js/17.55d01cfc.js"><link rel="prefetch" href="/assets/js/170.8a98e359.js"><link rel="prefetch" href="/assets/js/171.3518a6f7.js"><link rel="prefetch" href="/assets/js/172.e3171a50.js"><link rel="prefetch" href="/assets/js/173.1b580e56.js"><link rel="prefetch" href="/assets/js/174.7be4645b.js"><link rel="prefetch" href="/assets/js/175.a178a344.js"><link rel="prefetch" href="/assets/js/176.eb7d06c8.js"><link rel="prefetch" href="/assets/js/177.c2788848.js"><link rel="prefetch" href="/assets/js/178.66c9c0cd.js"><link rel="prefetch" href="/assets/js/179.dfbf9b83.js"><link rel="prefetch" href="/assets/js/18.17fa613c.js"><link rel="prefetch" href="/assets/js/180.fb8a60cf.js"><link rel="prefetch" href="/assets/js/181.c336f924.js"><link rel="prefetch" href="/assets/js/182.16789a7b.js"><link rel="prefetch" href="/assets/js/183.9837850c.js"><link rel="prefetch" href="/assets/js/184.4de8788c.js"><link rel="prefetch" href="/assets/js/185.9539ae94.js"><link rel="prefetch" href="/assets/js/186.7a003529.js"><link rel="prefetch" href="/assets/js/187.cedf6446.js"><link rel="prefetch" href="/assets/js/188.e63e50cc.js"><link rel="prefetch" href="/assets/js/189.4db3552f.js"><link rel="prefetch" href="/assets/js/19.b7b9a06c.js"><link rel="prefetch" href="/assets/js/190.28878fa2.js"><link rel="prefetch" href="/assets/js/191.480e0ac1.js"><link rel="prefetch" href="/assets/js/192.7cbca494.js"><link rel="prefetch" href="/assets/js/193.5f871121.js"><link rel="prefetch" href="/assets/js/194.b133af9e.js"><link rel="prefetch" href="/assets/js/195.a74281ac.js"><link rel="prefetch" href="/assets/js/196.fea431ba.js"><link rel="prefetch" href="/assets/js/197.c40514c2.js"><link rel="prefetch" href="/assets/js/198.466a732f.js"><link rel="prefetch" href="/assets/js/199.773c2321.js"><link rel="prefetch" href="/assets/js/20.0badf666.js"><link rel="prefetch" href="/assets/js/200.ec8e9d2c.js"><link rel="prefetch" href="/assets/js/201.0e2bf23e.js"><link rel="prefetch" href="/assets/js/202.43a0b681.js"><link rel="prefetch" href="/assets/js/203.4c5b0319.js"><link rel="prefetch" href="/assets/js/21.b91a6a25.js"><link rel="prefetch" href="/assets/js/22.b77d3fac.js"><link rel="prefetch" href="/assets/js/23.f14c4062.js"><link rel="prefetch" href="/assets/js/24.1ea85cea.js"><link rel="prefetch" href="/assets/js/25.3c538e80.js"><link rel="prefetch" href="/assets/js/26.b176ebfa.js"><link rel="prefetch" href="/assets/js/27.0022e30f.js"><link rel="prefetch" href="/assets/js/28.d4d29b4e.js"><link rel="prefetch" href="/assets/js/29.83f642eb.js"><link rel="prefetch" href="/assets/js/30.370676cc.js"><link rel="prefetch" href="/assets/js/31.4dc76918.js"><link rel="prefetch" href="/assets/js/32.682af421.js"><link rel="prefetch" href="/assets/js/33.5bf831c8.js"><link rel="prefetch" href="/assets/js/34.72ac4e73.js"><link rel="prefetch" href="/assets/js/35.7df0186a.js"><link rel="prefetch" href="/assets/js/36.d6592653.js"><link rel="prefetch" href="/assets/js/37.87f565d5.js"><link rel="prefetch" href="/assets/js/38.37e75a1f.js"><link rel="prefetch" href="/assets/js/39.3820c8b7.js"><link rel="prefetch" href="/assets/js/4.98d1feeb.js"><link rel="prefetch" href="/assets/js/40.684f56c7.js"><link rel="prefetch" href="/assets/js/41.682c5c5c.js"><link rel="prefetch" href="/assets/js/42.d335e048.js"><link rel="prefetch" href="/assets/js/43.96b54955.js"><link rel="prefetch" href="/assets/js/44.97287183.js"><link rel="prefetch" href="/assets/js/45.a9c28e38.js"><link rel="prefetch" href="/assets/js/46.8a60d3ac.js"><link rel="prefetch" href="/assets/js/47.622a7432.js"><link rel="prefetch" href="/assets/js/48.6e7ce277.js"><link rel="prefetch" href="/assets/js/49.cb0ce4c4.js"><link rel="prefetch" href="/assets/js/5.8b6aeddf.js"><link rel="prefetch" href="/assets/js/50.f37f678a.js"><link rel="prefetch" href="/assets/js/51.24c801dd.js"><link rel="prefetch" href="/assets/js/52.4607611f.js"><link rel="prefetch" href="/assets/js/53.7576805f.js"><link rel="prefetch" href="/assets/js/54.4f3a892f.js"><link rel="prefetch" href="/assets/js/55.f88d1f0a.js"><link rel="prefetch" href="/assets/js/56.bf08af17.js"><link rel="prefetch" href="/assets/js/57.e8edeab0.js"><link rel="prefetch" href="/assets/js/58.777b6959.js"><link rel="prefetch" href="/assets/js/59.2cd419c1.js"><link rel="prefetch" href="/assets/js/6.fafdd8e3.js"><link rel="prefetch" href="/assets/js/60.11ec59a6.js"><link rel="prefetch" href="/assets/js/61.41094e45.js"><link rel="prefetch" href="/assets/js/62.e295c5eb.js"><link rel="prefetch" href="/assets/js/63.32fa3d95.js"><link rel="prefetch" href="/assets/js/64.20e399ee.js"><link rel="prefetch" href="/assets/js/65.291133eb.js"><link rel="prefetch" href="/assets/js/66.76b4cc5f.js"><link rel="prefetch" href="/assets/js/67.40fe072e.js"><link rel="prefetch" href="/assets/js/68.d93d07ae.js"><link rel="prefetch" href="/assets/js/69.b8127251.js"><link rel="prefetch" href="/assets/js/7.adb02790.js"><link rel="prefetch" href="/assets/js/70.8f9faeb2.js"><link rel="prefetch" href="/assets/js/71.047fef38.js"><link rel="prefetch" href="/assets/js/72.6eebb9c8.js"><link rel="prefetch" href="/assets/js/73.3de229a0.js"><link rel="prefetch" href="/assets/js/74.0d522008.js"><link rel="prefetch" href="/assets/js/75.d0d6c674.js"><link rel="prefetch" href="/assets/js/76.e8407f32.js"><link rel="prefetch" href="/assets/js/77.1b842960.js"><link rel="prefetch" href="/assets/js/78.2583caa0.js"><link rel="prefetch" href="/assets/js/79.1480ffe4.js"><link rel="prefetch" href="/assets/js/8.6ed11fa4.js"><link rel="prefetch" href="/assets/js/80.6e25b12c.js"><link rel="prefetch" href="/assets/js/81.8dfa5e9c.js"><link rel="prefetch" href="/assets/js/82.20ca98ae.js"><link rel="prefetch" href="/assets/js/83.d6b6a72f.js"><link rel="prefetch" href="/assets/js/84.7e07fb0d.js"><link rel="prefetch" href="/assets/js/85.42ada47c.js"><link rel="prefetch" href="/assets/js/86.3ef8c658.js"><link rel="prefetch" href="/assets/js/87.2337c759.js"><link rel="prefetch" href="/assets/js/88.fe47ec7d.js"><link rel="prefetch" href="/assets/js/89.ab972d16.js"><link rel="prefetch" href="/assets/js/9.7b2c9a4a.js"><link rel="prefetch" href="/assets/js/90.bf281c1f.js"><link rel="prefetch" href="/assets/js/91.e0443a9b.js"><link rel="prefetch" href="/assets/js/92.df7ca8ef.js"><link rel="prefetch" href="/assets/js/93.099e9261.js"><link rel="prefetch" href="/assets/js/94.f1377055.js"><link rel="prefetch" href="/assets/js/95.8e579b84.js"><link rel="prefetch" href="/assets/js/96.cf004466.js"><link rel="prefetch" href="/assets/js/97.cb6bc0e8.js"><link rel="prefetch" href="/assets/js/98.b8790939.js"><link rel="prefetch" href="/assets/js/99.1ce60c17.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e687256a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Ailjc notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/Js/" class="nav-link">Js</a></div><div class="nav-item"><a href="/react/" class="nav-link">React</a></div><div class="nav-item"><a href="/vuebase/" class="nav-link router-link-active">快速掌握Vue</a></div><div class="nav-item"><a href="/node/" class="nav-link">Node</a></div><div class="nav-item"><a href="/typescript/" class="nav-link">Typescript</a></div><div class="nav-item"><a href="/vue3/" class="nav-link">Vue3</a></div><div class="nav-item"><a href="/vuesourcecode/" class="nav-link">源码分析</a></div><div class="nav-item"><a href="/lu-ui/" class="nav-link">组件库</a></div><div class="nav-item"><a href="/engineering/" class="nav-link">工程化</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/Js/" class="nav-link">Js</a></div><div class="nav-item"><a href="/react/" class="nav-link">React</a></div><div class="nav-item"><a href="/vuebase/" class="nav-link router-link-active">快速掌握Vue</a></div><div class="nav-item"><a href="/node/" class="nav-link">Node</a></div><div class="nav-item"><a href="/typescript/" class="nav-link">Typescript</a></div><div class="nav-item"><a href="/vue3/" class="nav-link">Vue3</a></div><div class="nav-item"><a href="/vuesourcecode/" class="nav-link">源码分析</a></div><div class="nav-item"><a href="/lu-ui/" class="nav-link">组件库</a></div><div class="nav-item"><a href="/engineering/" class="nav-link">工程化</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/vuebase/前端自动化测试/" class="sidebar-heading clickable"><span>前端自动化测试</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vuebase/进阶篇/" class="sidebar-heading clickable"><span>进阶篇</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/vuebase/面试题/" class="sidebar-heading clickable open"><span>面试题</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuebase/面试题/01-Prepare.html" class="active sidebar-link">01-Prepare</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_1-请说一下响应式数据的理解" class="sidebar-link">1.请说一下响应式数据的理解？</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#快速-mock" class="sidebar-link">快速 Mock:</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_2-vue-如何检测数组变化" class="sidebar-link">2.Vue 如何检测数组变化？</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_3-vue-中模板编译原理" class="sidebar-link">3.Vue 中模板编译原理？</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_4-生命周期钩子是如何实现" class="sidebar-link">4.生命周期钩子是如何实现</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_5-vue-mixin-的使用场景和原理" class="sidebar-link">5.Vue.mixin 的使用场景和原理？</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_6-nexttick-在哪里使用-原理是" class="sidebar-link">6.nextTick 在哪里使用?原理是?</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_7-vue-为什么需要虚拟-dom" class="sidebar-link">7.Vue 为什么需要虚拟 DOM？</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_8-vue-中的-diff-原理" class="sidebar-link">8.Vue 中的 diff 原理</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_9-vue-set-方法是如何实现的" class="sidebar-link">9.Vue.set 方法是如何实现的?</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_10-vue-的生命周期方法有哪些-一般在哪一步发起请求及原因" class="sidebar-link">10.Vue 的生命周期方法有哪些？一般在哪一步发起请求及原因</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_11-vue-组件间传值的方式及之间的区别" class="sidebar-link">11.Vue 组件间传值的方式及之间的区别？</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_12-attrs-是为了解决什么问题出现的-应用场景有哪些-provide-inject-不能解决它能解决的问题吗-核心答案" class="sidebar-link">12.\$attrs 是为了解决什么问题出现的？应用场景有哪些？provide/inject 不能解决它能解决的问题吗？ #核心答案:</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_13-vue-的组件渲染流程" class="sidebar-link">13.Vue 的组件渲染流程?</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_14-vue-中组件的-data-为什么是一个函数" class="sidebar-link">14.Vue 中组件的 data 为什么是一个函数?</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_15-请说下-v-if-和-v-show-的区别" class="sidebar-link">15.请说下 v-if 和 v-show 的区别</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_16-既然-vue-通过数据劫持可以精准探测数据变化-为什么还需要虚拟-dom-进行-diff-检测差异" class="sidebar-link">16. 既然 Vue 通过数据劫持可以精准探测数据变化，为什么还需要虚拟 DOM 进行 diff 检测差异</a></li><li class="sidebar-sub-header"><a href="/vuebase/面试题/01-Prepare.html#_17-谈一谈对-vue-组件化的理解" class="sidebar-link">17. 谈一谈对 Vue 组件化的理解</a></li></ul></li><li><a href="/vuebase/面试题/02-Prepare.html" class="sidebar-link">02-Prepare</a></li><li><a href="/vuebase/面试题/03-源码相关.html" class="sidebar-link">03-源码相关</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-面试题-1"><a href="#vue-面试题-1" class="header-anchor">#</a> Vue 面试题 1</h1> <p></p><div class="table-of-contents"><ul><li><a href="#_1-请说一下响应式数据的理解">1.请说一下响应式数据的理解？</a></li><li><a href="#快速-mock">快速 Mock:</a></li><li><a href="#_2-vue-如何检测数组变化">2.Vue 如何检测数组变化？</a></li><li><a href="#_3-vue-中模板编译原理">3.Vue 中模板编译原理？</a></li><li><a href="#_4-生命周期钩子是如何实现">4.生命周期钩子是如何实现</a></li><li><a href="#_5-vue-mixin-的使用场景和原理">5.Vue.mixin 的使用场景和原理？</a></li><li><a href="#_6-nexttick-在哪里使用-原理是">6.nextTick 在哪里使用?原理是?</a></li><li><a href="#_7-vue-为什么需要虚拟-dom">7.Vue 为什么需要虚拟 DOM？</a></li><li><a href="#_8-vue-中的-diff-原理">8.Vue 中的 diff 原理</a></li><li><a href="#_9-vue-set-方法是如何实现的">9.Vue.set 方法是如何实现的?</a></li><li><a href="#_10-vue-的生命周期方法有哪些-一般在哪一步发起请求及原因">10.Vue 的生命周期方法有哪些？一般在哪一步发起请求及原因</a></li><li><a href="#_11-vue-组件间传值的方式及之间的区别">11.Vue 组件间传值的方式及之间的区别？</a></li><li><a href="#_12-attrs-是为了解决什么问题出现的-应用场景有哪些-provide-inject-不能解决它能解决的问题吗-核心答案">12.\$attrs 是为了解决什么问题出现的？应用场景有哪些？provide/inject 不能解决它能解决的问题吗？ #核心答案:</a></li><li><a href="#_13-vue-的组件渲染流程">13.Vue 的组件渲染流程?</a></li><li><a href="#_14-vue-中组件的-data-为什么是一个函数">14.Vue 中组件的 data 为什么是一个函数?</a></li><li><a href="#_15-请说下-v-if-和-v-show-的区别">15.请说下 v-if 和 v-show 的区别</a><ul><li><a href="#v-if-源码剖析">v-if 源码剖析:</a></li><li><a href="#v-show-源码剖析">v-show 源码剖析:</a></li></ul></li><li><a href="#_16-既然-vue-通过数据劫持可以精准探测数据变化-为什么还需要虚拟-dom-进行-diff-检测差异">16. 既然 Vue 通过数据劫持可以精准探测数据变化，为什么还需要虚拟 DOM 进行 diff 检测差异</a></li><li><a href="#_17-谈一谈对-vue-组件化的理解">17. 谈一谈对 Vue 组件化的理解</a></li></ul></div><p></p> <h2 id="_1-请说一下响应式数据的理解"><a href="#_1-请说一下响应式数据的理解" class="header-anchor">#</a> 1.请说一下响应式数据的理解？</h2> <p>数组和对象类型当值变化时如何劫持到。对象内部通过 defineReactive 方法，使用 Object.defineProperty 将属性进行劫持（只会劫持已经存在的属性），数组则是通过重写数组方法来实现。</p> <p>每个属性都拥有自己的 dep 属性，存放他所依赖的 watcher，当属性变化后会通知自己对应的 watcher 去更新 （其实后面会讲到每个对象类型自己本身也拥有一个 dep 属性，这个在$set 面试题中在进行讲解）</p> <h2 id="快速-mock"><a href="#快速-mock" class="header-anchor">#</a> 快速 Mock:</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// app.innerHTML = state.count;</span>

<span class="token comment">// 1.将数据变成响应式数据</span>
<span class="token keyword">let</span> active<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> value <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> dep <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>active<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          dep<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>active<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> value<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">set</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        value <span class="token operator">=</span> newValue<span class="token punctuation">;</span>
        dep<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">defineReactive</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">watcher</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  active <span class="token operator">=</span> fn<span class="token punctuation">;</span>
  <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  active <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">watcher</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> state<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">watcher</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="_2-vue-如何检测数组变化"><a href="#_2-vue-如何检测数组变化" class="header-anchor">#</a> 2.Vue 如何检测数组变化？</h2> <p>数组考虑性能原因没有用 defineProperty 对数组的每一项进行拦截，而是选择重写数组（push,shift,pop,splice,unshift,sort,reverse）方法进行重写</p> <p>在 Vue 中修改数组的索引和长度是无法监控到的。需要通过以上 7 种变异方法修改数组才会触发数组对应的 watcher 进行更新。数组中如果是对象数据类型也会进行递归劫持。</p> <h2 id="_3-vue-中模板编译原理"><a href="#_3-vue-中模板编译原理" class="header-anchor">#</a> 3.Vue 中模板编译原理？</h2> <p>如何将 template 转换成 render 函数(这里要注意的是我们在开发时尽量不要使用 template，因为将 template 转化成 render 方法需要在运行时进行编译操作会有性能损耗，同时引用带有 compiler 包的 vue 体积也会变大。默认.vue 文件中的 template 处理是通过 vue-loader 来进行处理的并不是通过运行时的编译 - 后面我们会说到默认 vue 项目中引入的 vue.js 是不带有 compiler 模块的)。</p> <ol><li>将 template 模板转换成 <code>ast</code> 语法树 - <code>parserHTML</code></li> <li>对静态语法做静态标记 - <code>markUp</code></li> <li>重新生成代码 - <code>codeGen</code></li></ol> <p>模板引擎的实现原理就是<code>new Function + with</code>来进行实现的</p> <blockquote><p>vue-loader 中处理 template 属性主要靠的是 vue-template-compiler 模块</p></blockquote> <p>快速 Mock:</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./node_modules/vue-template-compiler/browser.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> <span class="token punctuation">{</span> ast<span class="token punctuation">,</span> render <span class="token punctuation">}</span> <span class="token operator">=</span> VueTemplateCompiler<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">'&lt;div&gt;hello world&lt;/div&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> render<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>源码位置: <code>src/compiler/index.js:11</code></p></blockquote> <h2 id="_4-生命周期钩子是如何实现"><a href="#_4-生命周期钩子是如何实现" class="header-anchor">#</a> 4.生命周期钩子是如何实现</h2> <p>Vue 的生命周期钩子就是回调函数而已，当创建组件实例的过程中会调用对应的钩子方法</p> <p>内部主要是使用 callHook 方法来调用对应的方法。核心是一个发布订阅模式，将钩子订阅好（内部采用数组的方式存储），在对应的阶段进行发布！</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">mergeHook</span><span class="token punctuation">(</span><span class="token parameter">parentVal<span class="token punctuation">,</span> childValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>childValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>parentVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> parentVal<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>childValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span>childValue<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> parentVal<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">mergeOptions</span><span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> opts <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> child<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    opts<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">mergeHook</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> child<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> opts<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">callHook</span><span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  vm<span class="token punctuation">.</span>options<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">hook</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">hook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Vue</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>options <span class="token operator">=</span> <span class="token function">mergeOptions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>options<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">callHook</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'beforeCreate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Vue<span class="token punctuation">.</span>options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'before create'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><blockquote><p>源码位置:src/core/util/options.js:146、core/instance/lifecycle.js:336</p></blockquote> <h2 id="_5-vue-mixin-的使用场景和原理"><a href="#_5-vue-mixin-的使用场景和原理" class="header-anchor">#</a> 5.Vue.mixin 的使用场景和原理？</h2> <p><code>Vue.mixin</code> 的作用就是抽离公共的业务逻辑，原理类似“对象的继承”，当组件初始化时会调用 <code>mergeOptions</code> 方法进行合并，采用策略模式针对不同的属性进行合并。如果混入的数据和本身组件中的数据冲突，会采用“就近原则”以组件的数据为准</p> <p>mixin 中有很多缺陷 &quot;命名冲突问题&quot;、&quot;依赖问题&quot;、&quot;数据来源问题&quot;,这里强调一下 mixin 的数据是不会被共享的！</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function-variable function">mixin</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>options <span class="token operator">=</span> <span class="token function">mergeOptions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'before create ok'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>源码位置:src/global-api/mixin:5</p></blockquote> <h2 id="_6-nexttick-在哪里使用-原理是"><a href="#_6-nexttick-在哪里使用-原理是" class="header-anchor">#</a> 6.nextTick 在哪里使用?原理是?</h2> <p>nextTick 中的回调是在下次 DOM 更新循环结束之后执行的延迟回调。在修改数据之后立即使用这个方法，获取更新后的 DOM。原理就是异步方法(promise,mutationObserver,setImmediate,setTimeout)经常与事件环一起来问(宏任务和微任务)</p> <p>vue 多次更新数据，最终会进行批处理更新。内部调用的就是 nextTick 实现了延迟更新，用户自定义的 nextTick 中的回调会被延迟到更新完成后调用，从而可以获取更新后的 DOM。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> cbs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> pending <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">flushCallbacks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  cbs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  cbs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>pending<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    pending <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">flushCallbacks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'rerender'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">nextTick</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">nextTick</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">nextTick</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'sync...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><blockquote><p>源码位置:src/core/global-api/mixin:5、src/core/util/next-tick.js:87</p></blockquote> <h2 id="_7-vue-为什么需要虚拟-dom"><a href="#_7-vue-为什么需要虚拟-dom" class="header-anchor">#</a> 7.Vue 为什么需要虚拟 DOM？</h2> <ul><li>Virtual DOM 就是用 js 对象来描述真实 DOM，是对真实 DOM 的抽象，</li> <li>由于直接操作 DOM 性能低但是 js 层的操作效率高，可以将 DOM 操作转化成对象操作，最终通过 diff 算法比对差异进行更新 DOM（减少了对真实 DOM 的操作）。</li> <li>虚拟 DOM 不依赖真实平台环境从而也可以实现跨平台。</li></ul> <p>虚拟 DOM 的实现就是普通对象包含 tag、data、children 等属性对真实节点的描述。（本质上就是在 JS 和 DOM 之间的一个缓存）</p> <blockquote><p>源码位置:src/core/vdom/vnode:3 虚拟节点的实现
scr/core/vdom/create-element.js:28</p></blockquote> <h2 id="_8-vue-中的-diff-原理"><a href="#_8-vue-中的-diff-原理" class="header-anchor">#</a> 8.Vue 中的 diff 原理</h2> <p>Vue 的 diff 算法是平级比较，不考虑跨级比较的情况。内部采用<code>深度递归的方式 + 双指针</code>的方式进行比较</p> <div align="center"><img src="/images/vuebase/vue-diff.jpg" alt="vuebase/vue-diff.jpg"></div> <ol><li>先比较是否是相同节点</li> <li>相同节点比较属性,并复用老节点</li> <li>比较儿子节点，考虑老节点和新节点儿子的情况</li> <li>优化比较：头头、尾尾、头尾、尾头</li> <li>比对查找进行复用</li></ol> <blockquote><p>Vue3 中采用最长递增子序列实现 diff 算法</p></blockquote> <blockquote><p>源码位置:src/core/vdom/patch:501</p></blockquote> <h2 id="_9-vue-set-方法是如何实现的"><a href="#_9-vue-set-方法是如何实现的" class="header-anchor">#</a> 9.Vue.set 方法是如何实现的?</h2> <p>为什么<code>$set</code>可以触发更新,我们给对象和数组本身都增加了 dep 属性。当给对象新增不存在的属性则触发对象依赖的 watcher 去更新，当修改数组索引时我们调用数组本身的 splice 方法去更新数组</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">target</span><span class="token operator">:</span> Array <span class="token operator">|</span> Object<span class="token punctuation">,</span> <span class="token literal-property property">key</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">val</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span><span class="token operator">:</span> any <span class="token punctuation">{</span>
  <span class="token comment">// 1.是开发环境 target 没定义或者是基础类型则报错</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>
    process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span> <span class="token operator">&amp;&amp;</span>
    <span class="token punctuation">(</span><span class="token function">isUndef</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">isPrimitive</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">warn</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Cannot set reactive property on undefined, null, or primitive value: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span>target<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 2.如果是数组 Vue.set(array,1,100); 调用我们重写的splice方法 (这样可以更新视图)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isValidArrayIndex</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">.</span>length <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>length<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    target<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 3.如果是对象本身的属性，则直接添加即可</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> target <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token punctuation">(</span>key <span class="token keyword">in</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
    <span class="token keyword">return</span> val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> ob <span class="token operator">=</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>__ob__<span class="token punctuation">;</span>
  <span class="token comment">// 4.如果是Vue实例 或 根数据data时 报错</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>_isVue <span class="token operator">||</span> <span class="token punctuation">(</span>ob <span class="token operator">&amp;&amp;</span> ob<span class="token punctuation">.</span>vmCount<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span> <span class="token operator">&amp;&amp;</span>
      <span class="token function">warn</span><span class="token punctuation">(</span>
        <span class="token string">'Avoid adding reactive properties to a Vue instance or its root $data '</span> <span class="token operator">+</span>
          <span class="token string">'at runtime - declare it upfront in the data option.'</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 5.如果不是响应式的也不需要将其定义成响应式属性</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ob<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
    <span class="token keyword">return</span> val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 6.将属性定义成响应式的</span>
  <span class="token function">defineReactive</span><span class="token punctuation">(</span>ob<span class="token punctuation">.</span>value<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 7.通知视图更新</span>
  ob<span class="token punctuation">.</span>dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><blockquote><p>源码位置:src/core/observer/index:202</p></blockquote> <h2 id="_10-vue-的生命周期方法有哪些-一般在哪一步发起请求及原因"><a href="#_10-vue-的生命周期方法有哪些-一般在哪一步发起请求及原因" class="header-anchor">#</a> 10.Vue 的生命周期方法有哪些？一般在哪一步发起请求及原因</h2> <ul><li><code>beforeCreate</code> 在实例初始化之后，数据观测(data observer) 和 event/watcher 事件配置之前被调用。</li> <li><code>created</code> 实例已经创建完成之后被调用。在这一步，实例已完成以下的配置：数据观测(data observer)，属性和方法的运算， watch/event 事件回调。这里没有<code>$el</code>, 实例已经创建完成，因为它是最早触发的原因可以进行一些数据，资源的请求。(服务端渲染支持 created 方法)</li> <li><code>beforeMount</code> 在挂载开始之前被调用：相关的 render 函数首次被调用。</li> <li><code>mounted</code> el 被新创建的 <code>vm.$el</code> 替换，并挂载到实例上去之后调用该钩子。实例已经挂载完成，可以进行一些 DOM 操作</li> <li><code>beforeUpdate</code> 数据更新时调用，发生在虚拟 DOM 重新渲染和打补丁之前。可以在这个钩子中进一步地更改状态，这不会触发附加的重渲染过程</li> <li><code>updated</code> 由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。可以执行依赖于 DOM 的操作。然而在大多数情况下，你应该避免在此期间更改状态，因为这可能会导致更新无限循环。 该钩子在服务器端渲染期间不被调用。</li> <li><code>beforeDestroy</code> 实例销毁之前调用。在这一步，实例仍然完全可用。</li> <li><code>destroyed</code> Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移.可以执行一些优化操作,清空定时器，解除绑定事件</li></ul> <h2 id="_11-vue-组件间传值的方式及之间的区别"><a href="#_11-vue-组件间传值的方式及之间的区别" class="header-anchor">#</a> 11.Vue 组件间传值的方式及之间的区别？</h2> <ul><li><code>props</code>和<code>$emit</code> 父组件向子组件传递数据是通过 <code>prop</code> 传递的，子组件传递数据给父组件是通过<code>$emit</code>触发事件来做到的</li> <li><code>$parent</code>,<code>$children</code> 获取当前组件的父组件和当前组件的子组件</li> <li><code>$attrs</code>和<code>$listeners</code> A-&gt;B-&gt;C。Vue 2.4 开始提供了<code>$attrs</code>和<code>$listeners</code>来解决这个问题</li> <li>父组件中通过 <code>provide</code> 来提供变量，然后在子组件中通过 <code>inject</code> 来注入变量。</li> <li><code>$refs</code> 获取实例</li> <li><code>envetBus</code> 平级组件数据传递 这种情况下可以使用中央事件总线的方式</li> <li><code>vuex</code> 状态管理</li></ul> <p>(1) props 实现:src/core/vdom/create-component.js:101、 src/core/instance/init.js:74、scr/core/instance/state:64</p> <p>(2) 事件机制实现: src/core/vdom/create-component.js:101、 src/core/instance/init.js:74、src/core/instance/events.js:12</p> <p>(3) parent&amp;children 实现:src/core/vdom/create-component.js:47、src/core/instance/lifecycle.js:32</p> <p>(4)provide&amp;inject 实现: src/core/instance/inject.js:7</p> <p>(5)$attrs&amp;$listener 实现: src/core/instance/render.js:49、src/core/instance/lifecycle.js:215</p> <p>(6)$refs 实现:src/core/vdom/modules/reg.js:20</p> <h2 id="_12-attrs-是为了解决什么问题出现的-应用场景有哪些-provide-inject-不能解决它能解决的问题吗-核心答案"><a href="#_12-attrs-是为了解决什么问题出现的-应用场景有哪些-provide-inject-不能解决它能解决的问题吗-核心答案" class="header-anchor">#</a> 12.$attrs 是为了解决什么问题出现的？应用场景有哪些？provide/inject 不能解决它能解决的问题吗？ #核心答案:</h2> <p>$attrs 主要的作用就是实现批量传递数据。provide/inject 更适合应用在插件中，主要是实现跨级数据传递</p> <h2 id="_13-vue-的组件渲染流程"><a href="#_13-vue-的组件渲染流程" class="header-anchor">#</a> 13.Vue 的组件渲染流程?</h2> <ol><li>父子组件渲染的先后顺序</li> <li>组件是如何渲染到页面上的</li></ol> <ul><li>① 在渲染父组件时会创建父组件的虚拟节点,其中可能包含子组件的标签</li> <li>② 在创建虚拟节点时,获取组件的定义使用 Vue.extend 生成组件的构造函数。</li> <li>③ 将虚拟节点转化成真实节点时，会创建组件的实例并且调用组件的$mount 方法。</li> <li>④ 所以组件的创建过程是先父后子</li></ul> <blockquote><p>源码位置:src/core/vdom/patch:125</p></blockquote> <ul><li>产生组件虚拟节点 -&gt; 创建组件的真实节点 -&gt; 插入到页面中</li></ul> <div align="center"><img src="/images/vuebase/init.png" alt="vuebase/init.png"></div> <h2 id="_14-vue-中组件的-data-为什么是一个函数"><a href="#_14-vue-中组件的-data-为什么是一个函数" class="header-anchor">#</a> 14.Vue 中组件的 data 为什么是一个函数?</h2> <p>每次使用组件时都会对组件进行实例化操作，并且调用 data 函数返回一个对象作为组件的数据源。这样可以保证多个组件间数据互不影响</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> options<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token function-variable function">data</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> d1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> d2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
d1<span class="token punctuation">.</span>data<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>源码位置:src/core/util/options:121</p></blockquote> <h2 id="_15-请说下-v-if-和-v-show-的区别"><a href="#_15-请说下-v-if-和-v-show-的区别" class="header-anchor">#</a> 15.请说下 v-if 和 v-show 的区别</h2> <p>v-if 在编译过程中会被转化成三元表达式,条件不满足时不渲染此节点。v-show 会被编译成指令，条件不满足时控制样式将对应节点隐藏 （内部其他指令依旧会继续执行）</p> <h3 id="v-if-源码剖析"><a href="#v-if-源码剖析" class="header-anchor">#</a> v-if 源码剖析:</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">genIfConditions</span><span class="token punctuation">(</span>
  <span class="token parameter"><span class="token literal-property property">conditions</span><span class="token operator">:</span> ASTIfConditions<span class="token punctuation">,</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> CodegenState<span class="token punctuation">,</span>
  altGen<span class="token operator">?</span><span class="token operator">:</span> Function<span class="token punctuation">,</span>
  altEmpty<span class="token operator">?</span><span class="token operator">:</span> string</span>
<span class="token punctuation">)</span><span class="token operator">:</span> string <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>conditions<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> altEmpty <span class="token operator">||</span> <span class="token string">'_e()'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> condition <span class="token operator">=</span> conditions<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">.</span>exp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 如果有表达式</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>condition<span class="token punctuation">.</span>exp<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
      <span class="token comment">// 将表达式作为条件拼接成元素</span>
      <span class="token function">genTernaryExp</span><span class="token punctuation">(</span>condition<span class="token punctuation">.</span>block<span class="token punctuation">)</span>
    <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">genIfConditions</span><span class="token punctuation">(</span>conditions<span class="token punctuation">,</span> state<span class="token punctuation">,</span> altGen<span class="token punctuation">,</span> altEmpty<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">genTernaryExp</span><span class="token punctuation">(</span>condition<span class="token punctuation">.</span>block<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token comment">// 没有表达式直接生成元素 像v-else</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// v-if with v-once should generate code like (a)?_m(0):_m(1)</span>
  <span class="token keyword">function</span> <span class="token function">genTernaryExp</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> altGen
      <span class="token operator">?</span> <span class="token function">altGen</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> state<span class="token punctuation">)</span>
      <span class="token operator">:</span> el<span class="token punctuation">.</span>once
      <span class="token operator">?</span> <span class="token function">genOnce</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> state<span class="token punctuation">)</span>
      <span class="token operator">:</span> <span class="token function">genElement</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><blockquote><p>源码位置:src/compiler/codegen/index.js:155</p></blockquote> <h3 id="v-show-源码剖析"><a href="#v-show-源码剖析" class="header-anchor">#</a> v-show 源码剖析:</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token function">bind</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">el</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token punctuation">{</span> value <span class="token punctuation">}</span><span class="token operator">:</span> VNodeDirective<span class="token punctuation">,</span> <span class="token literal-property property">vnode</span><span class="token operator">:</span> VNodeWithData</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> originalDisplay <span class="token operator">=</span> el<span class="token punctuation">.</span>__vOriginalDisplay <span class="token operator">=</span>
        el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">===</span> <span class="token string">'none'</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token comment">// 获取原始显示值</span>
        el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> value <span class="token operator">?</span> originalDisplay <span class="token operator">:</span> <span class="token string">'none'</span> <span class="token comment">// 根据属性控制显示或者隐藏</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>源码位置:src/platforms/web/runtime/directives/show.js:155</li></ul> <h2 id="_16-既然-vue-通过数据劫持可以精准探测数据变化-为什么还需要虚拟-dom-进行-diff-检测差异"><a href="#_16-既然-vue-通过数据劫持可以精准探测数据变化-为什么还需要虚拟-dom-进行-diff-检测差异" class="header-anchor">#</a> 16. 既然 Vue 通过数据劫持可以精准探测数据变化，为什么还需要虚拟 DOM 进行 diff 检测差异</h2> <ul><li>响应式数据变化，Vue 确实可以在数据发生变化时,响应式系统可以立刻得知。但是如果给每个属性都添加 watcher 用于更新的话，会产生大量的 watcher 从而降低性能。</li> <li>而且粒度过细也会导致更新不精准的问题，所以 vue 采用了组件级的 watcher 配合 diff 来检测差异</li></ul> <h2 id="_17-谈一谈对-vue-组件化的理解"><a href="#_17-谈一谈对-vue-组件化的理解" class="header-anchor">#</a> 17. 谈一谈对 Vue 组件化的理解</h2> <ul><li>组件化开发能大幅提高应用开发效率、测试性、复用性等;</li> <li>常用的组件化技术：属性、自定义事件、插槽等</li> <li>降低更新范围，只重新渲染变化的组件</li> <li>组件的特点：高内聚、低耦合、单向数据流</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuebase/进阶篇/05-表单组件的封装.html" class="prev">05-表单组件的封装</a></span> <span class="next"><a href="/vuebase/面试题/02-Prepare.html">02-Prepare</a>
      →
    </span></p></div> </main> <span data-v-2ae0ee72></span></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1dfe0d81.js" defer></script><script src="/assets/js/2.3e9bbb58.js" defer></script><script src="/assets/js/3.b0e1b0e0.js" defer></script><script src="/assets/js/161.543eb114.js" defer></script>
  </body>
</html>
